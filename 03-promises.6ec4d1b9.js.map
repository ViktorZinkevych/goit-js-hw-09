{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAqCpCF,EAAKG,iBAAiB,UAlCtB,SAA6BC,GAC3BA,EAAEC,iBAEJ,IAAIC,EAAaC,OAAOP,EAAKE,cAAc,uBAAuBM,OAClE,MAAMC,EAAYF,OAAON,SAASC,cAAc,sBAAsBM,OAChEE,EAASH,OAAON,SAASC,cAAc,wBAAwBM,OAErE,IAAIG,EAAOL,EACPM,EAAQN,EAEZ,IAAK,IAAIO,EAAW,EAAGA,GAAYH,EAAQG,GAAY,EAAE,CACvC,IAAIC,SAAQ,CAACC,EAASC,KAEpC,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACTR,GAASH,EAENQ,GACDF,EAAQ,CAAEM,SAAAR,EAAUS,MAAAV,IAEpBI,EAAO,CAAEK,SAAAR,EAAUS,MAAAV,GAAQ,GAE5BD,EAAK,IAKTY,MAAK,EAACF,SAAEA,EAAQC,MAAEA,KAAYE,EAAA1B,GAAS2B,OAAOC,QAAQ,uBAAqBL,QAAiBC,SAAYK,OACtG,EAAKN,WAAUC,WAAcE,EAAA1B,GAAQ2B,OAACG,QAAO,sBAASP,QAA8BC,SACvFX,GAAQF,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from \"notiflix\";\n\nconst form = document.querySelector('.form');\n\n\nfunction handleCreatePromise(e) {\n  e.preventDefault()\n\nlet firstDelay = Number(form.querySelector('input[name=\"delay\"]').value);\nconst stepDelay = Number(document.querySelector('input[name=\"step\"]').value);\nconst amount = Number(document.querySelector('input[name=\"amount\"]').value);\n\nlet time = firstDelay;\nlet delay = firstDelay; \n\nfor (let position = 1; position <= amount; position += 1){\n  const promise = new Promise((resolve, reject) => {\n\n    const shouldResolve = Math.random() > 0.3;\n   \n    setTimeout(() => {\n      delay += stepDelay;\n      \n      if(shouldResolve) {\n        resolve({ position, delay })\n      } \n        reject({ position, delay });\n      \n    }, time);\n    \n  });\n  \n  promise\n  .then(({ position, delay }) => Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`))\n  .catch(({ position, delay }) => Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`));\n  time += stepDelay\n  \n}\n};;\nform.addEventListener('submit', handleCreatePromise);\n\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","addEventListener","e","preventDefault","firstDelay","Number","value","stepDelay","amount","time","delay1","position1","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","position","delay","then","$parcel$interopDefault","Notify","success","catch","failure"],"version":3,"file":"03-promises.6ec4d1b9.js.map"}